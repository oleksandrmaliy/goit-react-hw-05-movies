{"version":3,"file":"static/js/991.68a20967.chunk.js","mappings":"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","sources":["components/API/GetSingleMovie.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst getSingleMovie = id => {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}`,\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjY2FhN2IzMjk5NmM0N2RhMTQxZWI1N2IwZTVjZTQ3NiIsInN1YiI6IjY0N2M5OTdkZTMyM2YzMDEyNzUyM2IzNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Blrs7t4WoJ6-3sy6A_Vz3twkTCmEg9nM0JyuAHg88WM',\n    },\n  };\n\n  return axios.request(options);\n};\n\nexport default getSingleMovie;\n","// extracted by mini-css-extract-plugin\nexport default {\"detailsPage\":\"MovieDetailsPage_detailsPage__C0s-y\",\"backButton\":\"MovieDetailsPage_backButton__yocBD\",\"block\":\"MovieDetailsPage_block__yqTig\",\"poster\":\"MovieDetailsPage_poster__rJd-l\",\"info\":\"MovieDetailsPage_info__wQ8PP\",\"title\":\"MovieDetailsPage_title__63V3V\",\"addInfo\":\"MovieDetailsPage_addInfo__981yG\",\"addInfList\":\"MovieDetailsPage_addInfList__AMrWE\",\"upBtn\":\"MovieDetailsPage_upBtn__i5yby\"};","import { useState, useEffect, useRef, Suspense } from 'react';\nimport {\n  Link,\n  Outlet,\n  useParams,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport getSingleMovie from 'components/API/GetSingleMovie';\n\nimport styles from './MovieDetailsPage.module.css';\n\nconst MovieDetailsPage = () => {\n  const [movie, setMovie] = useState([{}]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [year, setYear] = useState('');\n  const [genres, setGenres] = useState(null);\n\n  const { id } = useParams();\n  const location = useLocation();\n  const pageBack = useRef(location.state?.from ?? '/');\n  const navigate = useNavigate();\n  const defaultImg = `https://dl-media.viber.com/10/share/2/long/vibes/icon/image/0x0/95e0/5688fdffb84ff8bed4240bcf3ec5ac81ce591d9fa9558a3a968c630eaba195e0.jpg`;\n\n  useEffect(() => {\n    const singleMovie = async () => {\n      try {\n        setLoading(true);\n        const response = await getSingleMovie(id);\n        setMovie(response.data ? response.data : {});\n        setYear(response.data.release_date.substr(0, 4));\n        setGenres(response.data.genres.map(genre => genre.name).join(', '));\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (id) {\n      singleMovie();\n    }\n  }, [id]);\n\n  const up = () => {\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: 'smooth',\n    });\n  };\n\n  const show = () => {\n    setTimeout(\n      () =>\n        window.scrollTo({\n          top: 550,\n          left: 0,\n          behavior: 'smooth',\n        }),\n      500\n    );\n  };\n\n  const { poster_path, title, vote_average, overview } = movie;\n\n  return (\n    <div className={styles.detailsPage}>\n      <button\n        className={styles.backButton}\n        onClick={() => navigate(pageBack.current)}\n        type=\"button\"\n      >\n        {`<~ Go Back (To Future) :-)`}\n      </button>\n      {loading && <p>...Loading</p>}\n      {error && <h3>{error}</h3>}\n      <div className={styles.block}>\n        <img\n          className={styles.poster}\n          src={\n            poster_path\n              ? `https://image.tmdb.org/t/p/w500${poster_path}`\n              : defaultImg\n          }\n          alt=\"Sorry, no poster\"\n        />\n        <div className={styles.info}>\n          <h2 className={styles.title}>\n            {title} ({year})\n          </h2>\n          <p>\n            <span>User Score: </span>\n            {vote_average ? (\n              `${Math.round(vote_average * 10)}%`\n            ) : (\n              <span> No info</span>\n            )}\n          </p>\n          <h3>Overview</h3>\n          <p>{overview ? overview : <p>No info</p>}</p>\n          <h4>Genres</h4>\n          <p>{genres ? genres : <p>No info</p>}</p>\n        </div>\n      </div>\n      <div>\n        <h4 className={styles.addInfo}>Additional information</h4>\n        <ul className={styles.addInfList}>\n          <li>\n            <Link to=\"cast\" onClick={show}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to=\"reviews\" onClick={show}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n        <Suspense fallback={<div>...Loading</div>}>\n          <Outlet />\n        </Suspense>\n      </div>\n      <button className={styles.upBtn} type=\"button\" onClick={up}>\n        Up\n      </button>\n    </div>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"names":["id","options","method","url","concat","params","language","headers","accept","Authorization","axios","_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useState7","_useState8","year","setYear","_useState9","_useState10","genres","setGenres","useParams","location","useLocation","pageBack","useRef","state","from","navigate","useNavigate","useEffect","singleMovie","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","getSingleMovie","sent","data","release_date","substr","map","genre","name","join","t0","message","finish","stop","apply","arguments","show","setTimeout","window","scrollTo","top","left","behavior","poster_path","title","vote_average","overview","_jsxs","className","styles","children","_jsx","onClick","current","type","src","alt","Math","round","Link","to","Suspense","fallback","Outlet"],"sourceRoot":""}