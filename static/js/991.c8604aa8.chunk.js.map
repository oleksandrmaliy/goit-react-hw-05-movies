{"version":3,"file":"static/js/991.c8604aa8.chunk.js","mappings":"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","sources":["components/API/GetSingleMovie.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst getSingleMovie = id => {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}`,\n    params: { language: 'en-US' },\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjY2FhN2IzMjk5NmM0N2RhMTQxZWI1N2IwZTVjZTQ3NiIsInN1YiI6IjY0N2M5OTdkZTMyM2YzMDEyNzUyM2IzNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Blrs7t4WoJ6-3sy6A_Vz3twkTCmEg9nM0JyuAHg88WM',\n    },\n  };\n\n  return axios.request(options);\n};\n\nexport default getSingleMovie;\n","// extracted by mini-css-extract-plugin\nexport default {\"film\":\"MovieDetailsPage_film__+HkZu\"};","import { useState, useEffect, useRef, Suspense } from 'react';\nimport {\n  Link,\n  Outlet,\n  useParams,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\nimport getSingleMovie from 'components/API/GetSingleMovie';\n\nimport styles from './MovieDetailsPage.module.css';\n\nconst MovieDetailsPage = () => {\n  const [movie, setMovie] = useState([{}]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const { id } = useParams();\n  const location = useLocation();\n  // console.log('location', location);\n  const pageBack = useRef(location.state?.from ?? '/');\n  console.log(pageBack.current);\n  // console.log('pageBack', location.state.from);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const singleMovie = async () => {\n      try {\n        setLoading(true);\n        const response = await getSingleMovie(id);\n        setMovie(response.data ? response.data : {});\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (id) {\n      singleMovie();\n    }\n  }, [id]);\n\n  return (\n    <>\n      <h2>Single Film Page Content</h2>\n      <button onClick={() => navigate(pageBack.current)} type=\"button\">\n        Go Back to Future\n      </button>\n\n      <p className={styles.film}>{id}</p>\n      <p className={styles.film}>{movie.title}</p>\n      <img\n        width=\"auto\"\n        height=\"300px\"\n        src={\n          movie.poster_path ? (\n            `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n          ) : (\n            <p>aaa</p>\n          )\n        }\n        alt=\"Sorry, no poster\"\n      />\n\n      {loading && <p>...Loading</p>}\n      {error && <h3>{error}</h3>}\n\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n      <Suspense fallback={<div>...Loading</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"names":["id","options","method","url","concat","params","language","headers","accept","Authorization","axios","_location$state$from","_location$state","_useState","useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","useParams","location","useLocation","pageBack","useRef","state","from","console","log","current","navigate","useNavigate","useEffect","singleMovie","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","getSingleMovie","sent","data","t0","message","finish","stop","apply","arguments","_jsxs","_Fragment","children","_jsx","onClick","type","className","styles","title","width","height","src","poster_path","alt","Link","to","Suspense","fallback","Outlet"],"sourceRoot":""}